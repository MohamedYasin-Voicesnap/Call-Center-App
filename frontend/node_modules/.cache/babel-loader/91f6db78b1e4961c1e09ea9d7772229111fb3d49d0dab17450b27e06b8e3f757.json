{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { fetchAgentDetails as apiFetchAgentDetails, handleAddAgent as apiHandleAddAgent, handleEditAgent as apiHandleEditAgent, handleDeleteAgent as apiHandleDeleteAgent } from '../utils/api';\nexport default function useAgents() {\n  _s();\n  const [agentDetails, setAgentDetails] = useState([]);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const fetchAgentDetails = async authToken => {\n    const agents = await apiFetchAgentDetails(authToken);\n    setAgentDetails(agents);\n  };\n  const handleAddAgent = async (formData, token, onSuccess, onError, setLoading) => {\n    setLoading(true);\n    const result = await apiHandleAddAgent(formData, token);\n    if (result.success) {\n      if (onSuccess) onSuccess();\n      fetchAgentDetails(token);\n    } else {\n      if (onError) onError(result.message);\n    }\n    setLoading(false);\n  };\n  const handleEditAgent = async (formData, token, onSuccess, onError, setLoading) => {\n    setLoading(true);\n    const result = await apiHandleEditAgent(formData, token);\n    if (result.success) {\n      if (onSuccess) onSuccess();\n      fetchAgentDetails(token);\n    } else {\n      if (onError) onError(result.message);\n    }\n    setLoading(false);\n  };\n  const handleDeleteAgent = async (agentNumber, token, onSuccess, onError) => {\n    setDeleteLoading(true);\n    const result = await apiHandleDeleteAgent(agentNumber, token);\n    if (result.success) {\n      setAgentDetails(prev => prev.filter(agent => agent.agent_number !== agentNumber));\n      if (onSuccess) onSuccess();\n    } else {\n      if (onError) onError(result.message);\n    }\n    setDeleteLoading(false);\n  };\n  return {\n    agentDetails,\n    setAgentDetails,\n    fetchAgentDetails,\n    handleAddAgent,\n    handleEditAgent,\n    handleDeleteAgent,\n    deleteLoading,\n    setDeleteLoading\n  };\n}\n_s(useAgents, \"v2/1UV/GXfcvB0mn3C88sAyFksw=\");","map":{"version":3,"names":["useState","fetchAgentDetails","apiFetchAgentDetails","handleAddAgent","apiHandleAddAgent","handleEditAgent","apiHandleEditAgent","handleDeleteAgent","apiHandleDeleteAgent","useAgents","_s","agentDetails","setAgentDetails","deleteLoading","setDeleteLoading","authToken","agents","formData","token","onSuccess","onError","setLoading","result","success","message","agentNumber","prev","filter","agent","agent_number"],"sources":["D:/Projects/Asterisk Frontend M/frontend/src/hooks/useAgents.js"],"sourcesContent":["import { useState } from 'react';\r\nimport {\r\n  fetchAgentDetails as apiFetchAgentDetails,\r\n  handleAddAgent as apiHandleAddAgent,\r\n  handleEditAgent as apiHandleEditAgent,\r\n  handleDeleteAgent as apiHandleDeleteAgent\r\n} from '../utils/api';\r\n\r\nexport default function useAgents() {\r\n  const [agentDetails, setAgentDetails] = useState([]);\r\n  const [deleteLoading, setDeleteLoading] = useState(false);\r\n\r\n  const fetchAgentDetails = async (authToken) => {\r\n    const agents = await apiFetchAgentDetails(authToken);\r\n    setAgentDetails(agents);\r\n  };\r\n\r\n  const handleAddAgent = async (formData, token, onSuccess, onError, setLoading) => {\r\n    setLoading(true);\r\n    const result = await apiHandleAddAgent(formData, token);\r\n    if (result.success) {\r\n      if (onSuccess) onSuccess();\r\n      fetchAgentDetails(token);\r\n    } else {\r\n      if (onError) onError(result.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleEditAgent = async (formData, token, onSuccess, onError, setLoading) => {\r\n    setLoading(true);\r\n    const result = await apiHandleEditAgent(formData, token);\r\n    if (result.success) {\r\n      if (onSuccess) onSuccess();\r\n      fetchAgentDetails(token);\r\n    } else {\r\n      if (onError) onError(result.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDeleteAgent = async (agentNumber, token, onSuccess, onError) => {\r\n    setDeleteLoading(true);\r\n    const result = await apiHandleDeleteAgent(agentNumber, token);\r\n    if (result.success) {\r\n      setAgentDetails(prev => prev.filter(agent => agent.agent_number !== agentNumber));\r\n      if (onSuccess) onSuccess();\r\n    } else {\r\n      if (onError) onError(result.message);\r\n    }\r\n    setDeleteLoading(false);\r\n  };\r\n\r\n  return {\r\n    agentDetails,\r\n    setAgentDetails,\r\n    fetchAgentDetails,\r\n    handleAddAgent,\r\n    handleEditAgent,\r\n    handleDeleteAgent,\r\n    deleteLoading,\r\n    setDeleteLoading\r\n  };\r\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SACEC,iBAAiB,IAAIC,oBAAoB,EACzCC,cAAc,IAAIC,iBAAiB,EACnCC,eAAe,IAAIC,kBAAkB,EACrCC,iBAAiB,IAAIC,oBAAoB,QACpC,cAAc;AAErB,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAMC,iBAAiB,GAAG,MAAOc,SAAS,IAAK;IAC7C,MAAMC,MAAM,GAAG,MAAMd,oBAAoB,CAACa,SAAS,CAAC;IACpDH,eAAe,CAACI,MAAM,CAAC;EACzB,CAAC;EAED,MAAMb,cAAc,GAAG,MAAAA,CAAOc,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,KAAK;IAChFA,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMC,MAAM,GAAG,MAAMlB,iBAAiB,CAACa,QAAQ,EAAEC,KAAK,CAAC;IACvD,IAAII,MAAM,CAACC,OAAO,EAAE;MAClB,IAAIJ,SAAS,EAAEA,SAAS,CAAC,CAAC;MAC1BlB,iBAAiB,CAACiB,KAAK,CAAC;IAC1B,CAAC,MAAM;MACL,IAAIE,OAAO,EAAEA,OAAO,CAACE,MAAM,CAACE,OAAO,CAAC;IACtC;IACAH,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMhB,eAAe,GAAG,MAAAA,CAAOY,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,KAAK;IACjFA,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMC,MAAM,GAAG,MAAMhB,kBAAkB,CAACW,QAAQ,EAAEC,KAAK,CAAC;IACxD,IAAII,MAAM,CAACC,OAAO,EAAE;MAClB,IAAIJ,SAAS,EAAEA,SAAS,CAAC,CAAC;MAC1BlB,iBAAiB,CAACiB,KAAK,CAAC;IAC1B,CAAC,MAAM;MACL,IAAIE,OAAO,EAAEA,OAAO,CAACE,MAAM,CAACE,OAAO,CAAC;IACtC;IACAH,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMd,iBAAiB,GAAG,MAAAA,CAAOkB,WAAW,EAAEP,KAAK,EAAEC,SAAS,EAAEC,OAAO,KAAK;IAC1EN,gBAAgB,CAAC,IAAI,CAAC;IACtB,MAAMQ,MAAM,GAAG,MAAMd,oBAAoB,CAACiB,WAAW,EAAEP,KAAK,CAAC;IAC7D,IAAII,MAAM,CAACC,OAAO,EAAE;MAClBX,eAAe,CAACc,IAAI,IAAIA,IAAI,CAACC,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,YAAY,KAAKJ,WAAW,CAAC,CAAC;MACjF,IAAIN,SAAS,EAAEA,SAAS,CAAC,CAAC;IAC5B,CAAC,MAAM;MACL,IAAIC,OAAO,EAAEA,OAAO,CAACE,MAAM,CAACE,OAAO,CAAC;IACtC;IACAV,gBAAgB,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,OAAO;IACLH,YAAY;IACZC,eAAe;IACfX,iBAAiB;IACjBE,cAAc;IACdE,eAAe;IACfE,iBAAiB;IACjBM,aAAa;IACbC;EACF,CAAC;AACH;AAACJ,EAAA,CAvDuBD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
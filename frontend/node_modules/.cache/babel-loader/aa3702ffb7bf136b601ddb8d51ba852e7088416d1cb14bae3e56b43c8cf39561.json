{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { fetchAgentDetails as apiFetchAgentDetails, handleAddAgent as apiHandleAddAgent, handleEditAgent as apiHandleEditAgent, handleDeleteAgent as apiHandleDeleteAgent, postAgentBreakStatus, fetchAllAgentBreaks } from '../utils/api';\nexport default function useAgents() {\n  _s();\n  const [agentDetails, setAgentDetails] = useState([]);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const fetchAgentDetails = async authToken => {\n    const agents = await apiFetchAgentDetails(authToken);\n    setAgentDetails(agents);\n  };\n  const handleAddAgent = async (formData, token, onSuccess, onError, setLoading) => {\n    setLoading(true);\n    const result = await apiHandleAddAgent(formData, token);\n    if (result.success) {\n      if (onSuccess) onSuccess();\n      fetchAgentDetails(token);\n    } else {\n      if (onError) onError(result.message);\n    }\n    setLoading(false);\n  };\n  const handleEditAgent = async (formData, token, onSuccess, onError, setLoading) => {\n    setLoading(true);\n    const result = await apiHandleEditAgent(formData, token);\n    if (result.success) {\n      if (onSuccess) onSuccess();\n      fetchAgentDetails(token);\n    } else {\n      if (onError) onError(result.message);\n    }\n    setLoading(false);\n  };\n  const handleDeleteAgent = async (agentNumber, token, onSuccess, onError) => {\n    setDeleteLoading(true);\n    const result = await apiHandleDeleteAgent(agentNumber, token);\n    if (result.success) {\n      setAgentDetails(prev => prev.filter(agent => agent.agent_number !== agentNumber));\n      if (onSuccess) onSuccess();\n    } else {\n      if (onError) onError(result.message);\n    }\n    setDeleteLoading(false);\n  };\n\n  // Save agent break/working status\n  const saveAgentBreakStatus = async (breakData, token) => {\n    return await postAgentBreakStatus(breakData, token);\n  };\n\n  // Fetch all agent break/working status records (admin)\n  const getAllAgentBreaks = async (token, search = '') => {\n    return await fetchAllAgentBreaks(token, search);\n  };\n  return {\n    agentDetails,\n    setAgentDetails,\n    fetchAgentDetails,\n    handleAddAgent,\n    handleEditAgent,\n    handleDeleteAgent,\n    deleteLoading,\n    setDeleteLoading,\n    saveAgentBreakStatus,\n    getAllAgentBreaks\n  };\n}\n_s(useAgents, \"v2/1UV/GXfcvB0mn3C88sAyFksw=\");","map":{"version":3,"names":["useState","fetchAgentDetails","apiFetchAgentDetails","handleAddAgent","apiHandleAddAgent","handleEditAgent","apiHandleEditAgent","handleDeleteAgent","apiHandleDeleteAgent","postAgentBreakStatus","fetchAllAgentBreaks","useAgents","_s","agentDetails","setAgentDetails","deleteLoading","setDeleteLoading","authToken","agents","formData","token","onSuccess","onError","setLoading","result","success","message","agentNumber","prev","filter","agent","agent_number","saveAgentBreakStatus","breakData","getAllAgentBreaks","search"],"sources":["D:/Projects/Asterisk Frontend M/Asterisk Frontend M/frontend/src/hooks/useAgents.js"],"sourcesContent":["import { useState } from 'react';\r\nimport {\r\n  fetchAgentDetails as apiFetchAgentDetails,\r\n  handleAddAgent as apiHandleAddAgent,\r\n  handleEditAgent as apiHandleEditAgent,\r\n  handleDeleteAgent as apiHandleDeleteAgent,\r\n  postAgentBreakStatus,\r\n  fetchAllAgentBreaks\r\n} from '../utils/api';\r\n\r\nexport default function useAgents() {\r\n  const [agentDetails, setAgentDetails] = useState([]);\r\n  const [deleteLoading, setDeleteLoading] = useState(false);\r\n\r\n  const fetchAgentDetails = async (authToken) => {\r\n    const agents = await apiFetchAgentDetails(authToken);\r\n    setAgentDetails(agents);\r\n  };\r\n\r\n  const handleAddAgent = async (formData, token, onSuccess, onError, setLoading) => {\r\n    setLoading(true);\r\n    const result = await apiHandleAddAgent(formData, token);\r\n    if (result.success) {\r\n      if (onSuccess) onSuccess();\r\n      fetchAgentDetails(token);\r\n    } else {\r\n      if (onError) onError(result.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleEditAgent = async (formData, token, onSuccess, onError, setLoading) => {\r\n    setLoading(true);\r\n    const result = await apiHandleEditAgent(formData, token);\r\n    if (result.success) {\r\n      if (onSuccess) onSuccess();\r\n      fetchAgentDetails(token);\r\n    } else {\r\n      if (onError) onError(result.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDeleteAgent = async (agentNumber, token, onSuccess, onError) => {\r\n    setDeleteLoading(true);\r\n    const result = await apiHandleDeleteAgent(agentNumber, token);\r\n    if (result.success) {\r\n      setAgentDetails(prev => prev.filter(agent => agent.agent_number !== agentNumber));\r\n      if (onSuccess) onSuccess();\r\n    } else {\r\n      if (onError) onError(result.message);\r\n    }\r\n    setDeleteLoading(false);\r\n  };\r\n\r\n  // Save agent break/working status\r\n  const saveAgentBreakStatus = async (breakData, token) => {\r\n    return await postAgentBreakStatus(breakData, token);\r\n  };\r\n\r\n  // Fetch all agent break/working status records (admin)\r\n  const getAllAgentBreaks = async (token, search = '') => {\r\n    return await fetchAllAgentBreaks(token, search);\r\n  };\r\n\r\n  return {\r\n    agentDetails,\r\n    setAgentDetails,\r\n    fetchAgentDetails,\r\n    handleAddAgent,\r\n    handleEditAgent,\r\n    handleDeleteAgent,\r\n    deleteLoading,\r\n    setDeleteLoading,\r\n    saveAgentBreakStatus,\r\n    getAllAgentBreaks\r\n  };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}